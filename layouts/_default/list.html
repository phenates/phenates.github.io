{{ define "navbar" }}
{{ partial "navigators/navbar.html" . }}
{{ end }}

{{ define "sidebar" }}
{{ $homePage:="#" }}
{{ if hugo.IsMultilingual }}
{{ $homePage = (path.Join (cond ( eq .Language.Lang "en") "" .Language.Lang) .Type) }}
{{ end }}

<section class="sidebar-section" id="sidebar-section">
  <div class="sidebar-holder">
    <div class="sidebar" id="sidebar">
      <form class="mx-auto" method="get" action="{{ " search" | relLangURL }}">
        <input type="text" name="keyword" value="" placeholder="{{ i18n " search" }}" data-search="" id="search-box" />
      </form>
      <div class="sidebar-tree">
        <ul class="tree" id="tree">
          <li id="list-heading"><a href="{{ .Type | relLangURL }}" data-filter="all">{{ i18n .Type }}</a></li>
          <div class="subtree">
            {{ partial "navigators/sidebar.html" (dict "menuName" "sidebar" "menuItems" site.Menus.sidebar "ctx" .) }}
          </div>
        </ul>
      </div>
    </div>
  </div>
</section>
{{ end }}

{{ define "content" }}
<section class="content-section" id="content-section">
  <div class="content container-fluid" id="content">
    <!-- Contenu du fichier _index.md -->
    {{ if .Content }}
    <!--Hero Area-->
    <div class="hero-area col-sm-12" id="hero-area"
      style='background-image: url({{ partial "helpers/get-hero.html" . }});'>
    </div>

    {{ if site.Params.features.blog.showAuthor | default true }}
    <div class="author-profile ms-auto align-self-lg-center">
      <img class="rounded-circle" src='{{ partial "helpers/get-author-image.html" . }}' alt="Author Image">
      <h5 class="author-name">{{ partial "helpers/get-author-name.html" . }}</h5>
      <p class="text-muted">{{ .Page.Date | time.Format ":date_full" }}{{ if site.Params.features.readingTime }} | {{
        .ReadingTime }} {{i18n "minute" .ReadingTime }}{{ end }}</p>
    </div>
    {{ else }}
    <div style="margin-bottom: 80px;"></div>
    {{ end }}

    <!-- Titre centré -->
    <div class="title text-center mx-auto" style="margin-bottom: 40px;">
      <h1>{{ .Page.Title }}</h1>
    </div>

    <!-- Contenu d'introduction centré -->
    <div class="intro-content">
      <div class="container">
        {{ .Content }}
      </div>
    </div>
    {{ end }}

    <!-- Liste des posts -->
    <div class="container-fluid post-card-holder" id="post-card-holder">
      {{ $posts := where .RegularPagesRecursive "Layout" "!=" "search" }}
      {{ $posts = where $posts "Params.hidden" "!=" true }}
      {{ $numShow := site.Params.features.pagination.maxPostsPerPage | default 12}}
      {{ $paginator := .Paginate $posts $numShow }}
      {{ range $paginator.Pages }}
      {{ if .Layout }}
      {{/* ignore the search.md file*/}}
      {{ else }}
      {{ partial "cards/post.html" . }}
      {{ end }}
      {{ end }}
    </div>
    <div class="paginator">
      {{ partial "pagination.html" . }}
    </div>
  </div>
</section>
{{ end }}